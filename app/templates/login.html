<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - SmartBudget AI</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>
<body>
    <div class="login-container">
        <img src="{{ url_for('static', filename='img/login_banner.png') }}" alt="Login Banner" class="login-banner">

        <!-- ðŸ”¹ Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <ul class="flashes">
              {% for category, msg in messages %}
                <li class="{{ category }}">{{ msg }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}

        <!-- ðŸ”¹ Form errors -->
        {% if form.errors %}
          <ul class="form-errors">
            {% for field, errs in form.errors.items() %}
              {% for err in errs %}
                <li>{{ field }}: {{ err }}</li>
              {% endfor %}
            {% endfor %}
          </ul>
        {% endif %}

        <!-- Login form -->
        <form method="POST" action="{{ url_for('main.login') }}" class="login-form">
            {{ form.hidden_tag() }}

            {{ form.email.label }}
            {{ form.email(class="form-input") }}

            {{ form.password.label }}
            {{ form.password(class="form-input") }}

            {{ form.submit(class="form-button") }}
            <p class="register-text">Donâ€™t have an account? <a href="{{ url_for('main.register') }}">Register here</a></p>
        </form>
    </div>
</body>
</html>
